<div class="blog-card glass-card hover-lift rounded-2xl overflow-hidden h-full flex flex-col group text-left relative">
  <!-- Main Card Link (Mask) -->
  <a href="{{ .RelPermalink }}" class="absolute inset-0 z-0" aria-label="{{ .Title }}"></a>

  {{ $image := .Params.image }}
  {{ if $image }}
  <div class="blog-card-image overflow-hidden relative z-0">
    {{ partial "image" (dict "Src" $image "Context" .Page "Alt" .Title "Class" "w-full h-48 object-cover") }}

    <!-- External Links Overlay -->
    {{ if .Params.links }}
    <div class="absolute top-3 right-3 flex flex-col gap-2 z-20 pointer-events-auto">
      {{ range .Params.links }}
      <a href="{{ .website }}" target="_blank" rel="noopener noreferrer"
        class="w-8 h-8 flex items-center justify-center bg-white/90 dark:bg-black/90 backdrop-blur-sm rounded-full shadow-sm hover:scale-110 hover:bg-white dark:hover:bg-neutral-900 text-primary dark:text-white transition-all"
        title="{{ .title }}">
        {{ if in (lower .website) "instagram" }}
        <i class="fab fa-instagram"></i>
        {{ else if in (lower .website) "youtube" }}
        <i class="fab fa-youtube"></i>
        {{ else if in (lower .website) "tiktok" }}
        <i class="fab fa-tiktok"></i>
        {{ else if in (lower .website) "github" }}
        <i class="fab fa-github"></i>
        {{ else }}
        <i class="fas fa-external-link-alt"></i>
        {{ end }}
      </a>
      {{ end }}
    </div>
    {{ end }}
  </div>
  {{ end }}

  <div class="p-6 flex-1 flex flex-col relative z-0 pointer-events-none">
    <!-- Categories -->
    {{ if .Params.categories }}
    <div class="flex flex-wrap gap-2 mb-4 relative z-10">
      {{ range .Params.categories }}
      {{ $categorySlug := . | urlize | lower }}
      <span class="category-badge category-{{ $categorySlug }}">
        {{ . }}
      </span>
      {{ end }}
    </div>
    {{ end }}

    <!-- Title -->
    <h3 class="mb-3">
      <span
        class="block text-xl font-bold group-hover:text-primary dark:group-hover:text-darkmode-primary transition-colors">
        {{ .Title }}
      </span>
    </h3>

    <!-- Excerpt -->
    {{ if .Params.description }}
    <p class="text-sm opacity-80 mb-4 flex-1">
      {{ .Params.description }}
    </p>
    {{ end }}

    <!-- Meta Info -->
    <div class="flex items-center justify-between pt-4 border-t border-border dark:border-darkmode-border">
      <div class="flex items-center gap-2 text-sm opacity-70">
        <i class="far fa-calendar"></i>
        <time datetime="{{ .PublishDate }}">
          {{ .PublishDate.Format "Jan 02, 2006" }}
        </time>
      </div>

      <span
        class="inline-flex items-center gap-2 text-sm font-medium text-primary dark:text-darkmode-primary group-hover:gap-3 transition-all">
        Read More
        <i class="fas fa-arrow-right text-xs"></i>
      </span>
    </div>
  </div>
</div>